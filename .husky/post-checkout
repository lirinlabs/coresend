if [ "$1" = "$2" ]; then exit 0; fi

echo "ðŸ”„ Branch switched. Checking dependencies..."

if ! git diff --quiet $1 $2 -- backend/go.mod; then
  echo "ðŸ“¦ Updating Go modules..."
  (cd backend && go mod download)
fi

if ! git diff --quiet $1 $2 -- app/package.json; then
  echo "ðŸ“¦ Updating Bun dependencies..."
  bun install
fi