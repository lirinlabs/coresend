# Development Caddyfile
# Uses localhost with self-signed certs (auto-generated by Caddy)

:80 {
	# Frontend static files
	root * /srv/frontend
	file_server

	# SPA fallback
	try_files {path} /index.html

	# API proxy to backend
	handle_path /api/* {
		reverse_proxy backend:8080
	}

	# Health check
	respond /health 200 "healthy"

	log {
		output stdout
		format console
	}
}
